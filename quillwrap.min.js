define(["jquery"],function(c){return{autoinit:function(){var n=this;require(["quill"],function(e){c("textarea.rte").each(function(t){var a,r,i;(a=c(this)).attr("id")?(r=n.setupInput(a),(i=new e("#"+r.id,r.quillConfig)).on("selection-change",function(t,e,n){null===t&&null!==e?r.container.removeClass("focussed"):null!==t&&null===e&&r.container.addClass("focussed"),a.val(i.root.innerHTML).trigger("change")}),i.on("text-change",function(){a.val(i.root.innerHTML).trigger("change")}),a.data("editor",{instance:i,flush:function(){var t=this.instance.root.innerHTML;a.val(t).trigger("change")},destroy:function(){r.container.remove(),a.show()}}),a.toggleClass("rte rte-active")):console.warn("Cannot autoinit Quill editor for textarea - the textarea needs an id")})})},setupInput:function(t){var e=t.height(),n=t.attr("id")+"_rte",a=t.attr("placeholder"),r=t.val(),i=c("<div />").attr({class:"rte-inner form-control",id:n}).html(r).css("min-height",e),o=c("<div />").attr({class:"rte-container "});i.appendTo(o.insertAfter(t.hide()));var l={modules:{toolbar:[["bold","italic"],["link","blockquote","code-block"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow"};return a&&(l.placeholder=a),t.data("scroll")&&(l.scrollingContainer=t.data("scroll")),t.data("theme")&&(l.theme=t.data("theme")),{id:n,container:o,quillConfig:l}},flushAll:function(){var e;c("textarea.rte-active").each(function(t){(e=c(this).data("editor"))&&e.flush()})}}});
