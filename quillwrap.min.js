!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")(t),require("quill")):"function"==typeof define&&define.amd?define(["jquery","quill"],e):t.quillwrap=e(t.jQuery,t.Quill)}(this,function(t,e){return{defaultConfig:{modules:{toolbar:[["bold","italic"],["link","blockquote","code-block"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow"},autoinit:function(e){var n=this;e&&t.extend(this.defaultConfig,e),t("textarea.rte").each(function(e){var i;(i=t(this)).attr("id")?(n.init(i),i.toggleClass("rte rte-active")):console.warn("Cannot autoinit Quill editor for textarea - the textarea needs an id")})},init:function(t,n){conf=this._setupInput(t,n),quillInstance=new e("#"+conf.id,conf.quillConfig),quillInstance.on("selection-change",function(e,n,i){null===e&&null!==n?conf.container.removeClass("focussed"):null!==e&&null===n&&conf.container.addClass("focussed"),t.val(quillInstance.root.innerHTML).trigger("change")}),quillInstance.on("text-change",function(){t.val(quillInstance.root.innerHTML).trigger("change")}),t.data("editor",{instance:quillInstance,flush:function(){var e=this.instance.root.innerHTML;t.val(e).trigger("change")},destroy:function(){conf.container.remove(),t.show()}})},_setupInput:function(e,n){var i=e.height(),l=e.attr("id")+"_rte",o=e.attr("placeholder"),a=e.val(),r=t("<div />").attr({class:"rte-inner form-control",id:l}).html(a).css("min-height",i),u=t("<div />").attr({class:"rte-container "});r.appendTo(u.insertAfter(e.hide()));return quillConfig=t.extend({},this.defaultConfig,n),o&&(quillConfig.placeholder=o),e.data("scroll")&&(quillConfig.scrollingContainer=e.data("scroll")),e.data("theme")&&(quillConfig.theme=e.data("theme")),{id:l,container:u,quillConfig:quillConfig}},flushAll:function(){var e;t("textarea.rte-active").each(function(n){(e=t(this).data("editor"))&&e.flush()})}}});
