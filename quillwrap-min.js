!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("quill")):"function"==typeof define&&define.amd?define(["jquery","quill"],e):t.quillwrap=e(t.jQuery,t.Quill)}(this,(function(t,e){return{defaultConfig:{modules:{toolbar:[["bold","italic"],["link","blockquote","code-block"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow"},autoinit:function(e){var n=this;e&&t.extend(this.defaultConfig,e),t("textarea.rte").each((function(e){var i,r;(r=(i=t(this)).attr("id"))||(console.warn("Cannot autoinit Quill editor for textarea - the textarea needs an id"),r=i.attr("name")+"_rte_"+e,i.attr("id",r)),n.init(i),i.toggleClass("rte rte-active")}))},init:function(t,n){var i=this._setupInput(t,n),r=new e("#"+i.id,i.quillConfig);r.on("selection-change",(function(e,n,a){null===e&&null!==n?i.container.removeClass("focussed"):null!==e&&null===n&&i.container.addClass("focussed"),t.val(r.root.innerHTML).trigger("change")})),r.on("text-change",(function(){t.val(r.root.innerHTML).trigger("change")})),t.data("editor",{instance:r,flush:function(){var e=this.instance.root.innerHTML;t.val(e).trigger("change")},destroy:function(){i.container.remove(),t.show()}})},_setupInput:function(e,n){var i=e.height(),r=e.attr("id")+"_rte",a=e.attr("placeholder"),o=e.val(),l=t("<div />").attr({class:"rte-inner form-control",id:r}).html(o).css("min-height",i),u=t("<div />").attr({class:"rte-container "});l.appendTo(u.insertAfter(e.hide()));var s=t.extend({},this.defaultConfig,n);return a&&(s.placeholder=a),e.data("scroll")&&(s.scrollingContainer=e.data("scroll")),e.data("theme")&&(s.theme=e.data("theme")),{id:r,container:u,quillConfig:s}},flushAll:function(){var e;t("textarea.rte-active").each((function(n){(e=t(this).data("editor"))&&e.flush()}))}}}));